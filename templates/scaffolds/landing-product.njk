{% extends "layouts/base.njk" %}

{% block styles %}
.product-hero {
  padding: 8rem 0;
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  align-items: center;
  gap: 5rem;
}

.product-hero h1 { font-size: 3.5rem; margin-bottom: 1.5rem; }
.product-hero .product-img img { width: 100%; border-radius: 1rem; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }

.benefits-section {
  padding: 6rem 0;
  background: var(--color-surface);
}

.benefit-item {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  gap: 5rem;
  margin-bottom: 6rem;
}

.benefit-item:nth-child(even) .benefit-img { order: -1; }
.benefit-img img { width: 100%; border-radius: 1rem; }

.specs-section {
  padding: 6rem 0;
  background: white;
}

.specs-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 3rem;
  margin-top: 3rem;
}

.spec-item {
  display: flex;
  justify-content: space-between;
  padding: 1.5rem 0;
  border-bottom: 1px solid var(--color-border);
}

.gallery-section {
  padding: 6rem 0;
  background: white;
}

.gallery-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
}

.gallery-item img {
  width: 100%;
  aspect-ratio: 1;
  object-fit: cover;
  border-radius: 0.5rem;
}

@media (max-width: 991px) {
  .product-hero, .benefit-item, .specs-grid, .gallery-grid { grid-template-columns: 1fr; gap: 3rem; }
  .benefit-item:nth-child(even) .benefit-img { order: -1; }
  .product-hero .product-img { order: -1; }
}
{% endblock %}

{% block content %}
<section class="container product-hero">
  <div class="product-info">
    <h1 data-cms-region="product_name" data-cms-type="text" data-cms-label="Product Name">
      {{ content.product_name | default("Premium Smart Watch v2") }}
    </h1>
    <p data-cms-region="product_desc" data-cms-type="textarea" data-cms-label="Product Description">
      {{ content.product_desc | default("The most advanced wearable technology with a stunning sapphire display and health tracking.") }}
    </p>
    <div class="price-action mt-4">
      <span class="price" style="font-size: 2.5rem; font-weight: 700; margin-right: 1.5rem;">$399.00</span>
      <a href="#" class="btn btn-primary btn-lg">Buy Now</a>
    </div>
  </div>
  <div class="product-img" data-cms-region="product_hero_img" data-cms-type="image" data-cms-label="Hero Product Image">
    <img src="{{ content.product_hero_img | default('/images/placeholders/800x800.svg') }}" alt="Product Image">
  </div>
</section>

<section class="benefits-section">
  <div class="container">
    <div data-cms-region="benefits" 
         data-cms-type="repeater" 
         data-cms-label="Key Benefits"
         data-cms-fields='[{"name":"title","type":"text","label":"Benefit Title"},{"name":"text","type":"textarea","label":"Benefit Description"},{"name":"image","type":"image","label":"Benefit Image"}]'>
      {% for benefit in content.benefits %}
        <div class="benefit-item">
          <div class="benefit-content">
            <h2>{{ benefit.title }}</h2>
            <p>{{ benefit.text }}</p>
          </div>
          <div class="benefit-img">
            <img src="{{ benefit.image | default('/images/placeholders/600x400.svg') }}" alt="{{ benefit.title }}">
          </div>
        </div>
      {% else %}
        <div class="benefit-item">
          <div class="benefit-content"><h2>Built to Last</h2><p>Designed with premium materials to withstand your toughest workouts and adventures.</p></div>
          <div class="benefit-img"><img src="/images/placeholders/600x400.svg" alt="Benefit"></div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<section class="gallery-section">
  <div class="container">
    <h2 class="text-center mb-4">Product Gallery</h2>
    <div class="gallery-grid" 
         data-cms-region="gallery" 
         data-cms-type="repeater" 
         data-cms-label="Gallery Images"
         data-cms-fields='[{"name":"image","type":"image","label":"Gallery Image"}]'>
      {% for img in content.gallery %}
        <div class="gallery-item"><img src="{{ img.image | default('/images/placeholders/600x600.svg') }}" alt="Gallery Image"></div>
      {% else %}
        <div class="gallery-item"><img src="/images/placeholders/600x600.svg" alt="Gallery"></div>
        <div class="gallery-item"><img src="/images/placeholders/600x600.svg" alt="Gallery"></div>
        <div class="gallery-item"><img src="/images/placeholders/600x600.svg" alt="Gallery"></div>
      {% endfor %}
    </div>
  </div>
</section>

<section class="specs-section">
  <div class="container">
    <h2>Technical Specifications</h2>
    <div class="specs-grid" 
         data-cms-region="specs" 
         data-cms-type="repeater" 
         data-cms-label="Specifications"
         data-cms-fields='[{"name":"label","type":"text","label":"Spec Label"},{"name":"value","type":"text","label":"Spec Value"}]'>
      {% for spec in content.specs %}
        <div class="spec-item"><strong>{{ spec.label }}</strong><span>{{ spec.value }}</span></div>
      {% else %}
        <div class="spec-item"><strong>Battery Life</strong><span>Up to 7 days</span></div>
        <div class="spec-item"><strong>Water Resistance</strong><span>5ATM (50m)</span></div>
        <div class="spec-item"><strong>Compatibility</strong><span>iOS & Android</span></div>
        <div class="spec-item"><strong>Weight</strong><span>42g</span></div>
      {% endfor %}
    </div>
  </div>
</section>

<section class="container text-center py-8" style="padding: 6rem 0;">
  <h2>Ready to Upgrade?</h2>
  <a href="#" class="btn btn-primary btn-lg mt-4">Order Your Smart Watch Today</a>
</section>
{% endblock %}

