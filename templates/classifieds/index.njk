{# Classified Ad Search Results #}
{% extends "system/layouts/base-with-system.njk" %}

{% block title %}{{ filters.q or "Browse" }} â€” Classifieds{% endblock %}

{% block head %}
{{ super() }}
<link rel="stylesheet" href="/styles/classifieds.css">
{% endblock %}

{% block content %}
<section class="classifieds-search">
  <div class="classifieds-header">
    <h1>{% if filters.q %}Results for "{{ filters.q }}"{% else %}Browse Listings{% endif %}</h1>
    <a href="/customer/ads/create" class="post-ad-btn">+ Post Ad</a>
  </div>

  {# Use system search component #}
  {% include "system/components/classifieds-search-bar.njk" %}

  <p class="result-count">{{ ads.length }} listing{{ "s" if ads.length != 1 }} found</p>

  <div class="listing-grid">
    {% for ad in ads %}
    <a href="/classifieds/{{ ad.slug }}" class="listing-card">
      {% include "system/components/classifieds-ad-card.njk" %}
    </a>
    {% else %}
    <div class="no-results">
      <p>No listings match your search. Try broadening your filters.</p>
    </div>
    {% endfor %}
  </div>
</section>
{% endblock %}
